#InsertMaleCatheter

If
	Do 'AnswerIsNo' 'Insert Catheter?'
Then
	Return
Endif

Prompt 'Inserting catheter in urethra'
wait 2
Prompt ''

######### GRAB PENIS ###########
#Move close and grab if not grabbed already
#Do 'Actions/UCG/GrabPenis.txt' $OtherHand

######### CREATE AND ALIGN CATHETER
$TempCatheter = 'CatheterBalloonInsert'
$UCLocator = $Patient + '/UCLocator'
$CatheterPort = $TempCatheter + '/Handle/Port'
$CatheterTubeEnd = $TempCatheter + '/Handle'
$CatheterEndEffector = $TempCatheter + '/EndEffector'

#$FinalCatheter = 'CatheterBalloon'
#$FinalCatheterPort = $FinalCatheter + '/Handle/Port'
#$FinalCatheterTubeEnd = $FinalCatheter + '/Handle'


Create $TempCatheter $TempCatheter
$TempCatheter align $CatheterBalloon 0

turnOff $CatheterBalloon
wait .1
$TempCatheter localmovey .01 0
wait 1

######### Grab catheter with active hand
$Grab = 'grab' + ActiveHand
Do 'SetGripSize' $ActiveHand 0.2
$PlayerNurse $Grab $TempCatheter 1 'dip' 'default' 
Wait 1

#Align to penis tip
$TempCatheter align $UCLocator 0.5
Wait 0.5


#Slowly insert catheter
$TempCatheter localmovez .1 2
wait 2
$TempCatheter attachto $UCLocator


##########CHECK PATIENT STRUGGLE###########
$ScenarioStruggle =
$GlobalVar getglobal 'PatientStruggle'
If
	$ScenarioStruggle = true
Then
	Do 'Actions/UCG/PatientStruggle'
	turnOn $Stage2Button
	turnOff $EndGameButton
	Return
Endif


$CatheterEndEffector unparent
Wait 0
$CatheterEndEffector align $CatheterEndLoc 1
Wait 1

######## Create urine drips ############
#Player align $UrinaryProcPos 0.5
#wait 0.5

Do 'Actions/UCG/StartUrineDrip'

Do 'Actions/UCG/ReleaseGenitals' $DirtyHand

Prompt 'About to release active ' + ActiveHand
Wait 4
$Release = 'release' + ActiveHand
$PlayerNurse $Release 1 'dip'
wait 2
Prompt 'Released active ' + ActiveHand
Wait 4

Player align $UrinaryProcPos 1
Wait 1
Player localRotateX 30 1
Wait 1

########### INFLATION #################
Do 'Actions/UCG/InflateCatheterBalloon'

Player align $PlayerStart 1

